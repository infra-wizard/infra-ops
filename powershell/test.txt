gh api /orgs/Polaris-InVehicleSoftware/migrations

# Set the classic token
export GH_TOKEN="ghp_your_classic_token_here"

# Or use it directly
gh api --method DELETE \
  -H "Accept: application/vnd.github+json" \
  -H "Authorization: Bearer ghp_your_classic_token_here" \
  /orgs/Trail-Tech/migrations/unlock/repos/test-migration


gh api --method DELETE \
  -H "Accept: application/vnd.github+json" \
  /repos/Trail-Tech/test-migration/lock

gh api --method DELETE \
  -H "Accept: application/vnd.github+json" \
  /orgs/Trail-Tech/migrations/unlock/repos/test-migration

Get all repos and their collaborators
curl -s -H "Authorization: token $TOKEN" \
  "https://api.github.com/user/repos?per_page=100&affiliation=owner,collaborator,organization_member" | \
jq -r '.[].full_name' | \
while read repo; do
  curl -s -H "Authorization: token $TOKEN" \
    "https://api.github.com/repos/$repo/collaborators?affiliation=all" | \
    jq -r --arg repo "$repo" '.[] | "\(.login) | \($repo) | \(.role_name)"'
done


curl -s -H "Authorization: token $TOKEN" \
  "https://api.github.com/repos/Trail-Tech/koala/teams" | \
  jq -r '.[] | "\(.name) | \(.permission)"'

url -s -H "Authorization: token $TOKEN" \
  "https://api.github.com/repos/Trail-Tech/koala/teams" | \
  jq -r '.[] | "\(.name),Trail-Tech/koala,\(.permission)"'


curl -s -H "Authorization: token $TOKEN" \
  "https://api.github.com/repos/Trail-Tech/koala/collaborators?affiliation=all" | \
  jq -r '.[] | "\(.login) | \(.role_name)"'


printf "%-20s | %-10s\n" "USERNAME" "PERMISSION"
printf "%.0s-" {1..35}; echo

curl -s -H "Authorization: token $TOKEN" \
  "https://api.github.com/repos/Trail-Tech/koala/collaborators?affiliation=all" | \
  jq -r '.[] | "\(.login)|\(.role_name)"' | \
  while IFS='|' read user perm; do
    printf "%-20s | %-10s\n" "$user" "$perm"
  done


TOKEN="your_pat_token_here"
ORG="Trail-Tech"
TEAM_SLUG="team-name"  # Team slug (URL-friendly name)
REPO="koala"
PERMISSION="push"  # Options: pull, push, admin, maintain, triage

curl -X PUT \
  -H "Authorization: token $TOKEN" \
  -H "Accept: application/vnd.github.v3+json" \
  "https://api.github.com/orgs/$ORG/teams/$TEAM_SLUG/repos/$ORG/$REPO" \
  -d "{\"permission\":\"$PERMISSION\"}"
